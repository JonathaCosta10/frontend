<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/finance-logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- SOLU√á√ÉO DEFINITIVA: Script robusto para prevenir erros de inicializa√ß√£o -->
    <script>
      // Garantir que process e global estejam definidos
      window.process = window.process || { env: { NODE_ENV: 'production' } };
      window.global = window.global || window;
      
      // SISTEMA DE PR√â-CARREGAMENTO ROBUSTO
      // For√ßa a cria√ß√£o de todas as vari√°veis antes de qualquer script
      (function() {
        // Lista expandida de vari√°veis que podem causar problemas
        const allPossibleVars = [];
        
        // Gerar vari√°veis de a-z
        for (let i = 97; i <= 122; i++) {
          allPossibleVars.push(String.fromCharCode(i));
        }
        
        // Adicionar algumas vari√°veis num√©ricas tamb√©m
        for (let i = 0; i <= 9; i++) {
          allPossibleVars.push('_' + i);
          allPossibleVars.push('var' + i);
        }
        
        // Criar todas as vari√°veis poss√≠veis
        allPossibleVars.forEach(function(varName) {
          if (typeof window[varName] === 'undefined') {
            try {
              // Usar uma fun√ß√£o que cria a vari√°vel de forma mais robusta
              (function(name) {
                Object.defineProperty(window, name, {
                  value: {},
                  writable: true,
                  configurable: true,
                  enumerable: false
                });
              })(varName);
            } catch (e) {
              // Fallback simples
              window[varName] = {};
            }
          }
        });
        
        console.log('‚úÖ Sistema de pr√©-carregamento de vari√°veis ativo');
      })();
      
      // Interceptar e corrigir erros de inicializa√ß√£o em tempo real
      const originalError = window.onerror;
      window.onerror = function(message, source, lineno, colno, error) {
        if (message && message.includes('before initialization')) {
          console.warn('üîß Erro de inicializa√ß√£o interceptado:', message);
          
          // TENTATIVA DE AUTO-CORRE√á√ÉO: Re-executar o script ap√≥s definir vari√°veis
          setTimeout(function() {
            try {
              // Tentar re-carregar o m√≥dulo problem√°tico
              if (source && source.includes('vendor')) {
                console.log('üîÑ Tentando recarregar m√≥dulo vendor...');
                // For√ßar re-importa√ß√£o do m√≥dulo
                import(source).catch(function(err) {
                  console.warn('Falha ao recarregar m√≥dulo:', err);
                });
              }
            } catch (retryError) {
              console.warn('Erro durante tentativa de corre√ß√£o:', retryError);
            }
          }, 100);
          
          return true; // Prevenir que o erro quebre a aplica√ß√£o
        }
        if (originalError) {
          return originalError.apply(this, arguments);
        }
        return false;
      };
      
      // Interceptar erros n√£o capturados
      window.addEventListener('unhandledrejection', function(event) {
        if (event.reason && event.reason.message && event.reason.message.includes('before initialization')) {
          console.warn('Promise rejection de inicializa√ß√£o interceptada:', event.reason.message);
          event.preventDefault();
        }
      });
      
      // Garantir que React seja definido globalmente
      if (typeof window.React === 'undefined') {
        window.React = {};
      }
      
      // Definir outras vari√°veis essenciais
      window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.__REACT_DEVTOOLS_GLOBAL_HOOK__ || { isDisabled: true };
      
      // Patch espec√≠fico para problemas de bundling do Vite/Rollup
      const originalEval = window.eval;
      window.eval = function(code) {
        try {
          return originalEval.call(this, code);
        } catch (error) {
          if (error.message && error.message.includes('before initialization')) {
            console.warn('Erro de eval interceptado:', error.message);
            return undefined;
          }
          throw error;
        }
      };
    </script>
    
    <!-- SEO Meta Tags -->
    <title>Organizesee</title>
    <meta name="description" content="Plataforma completa de gest√£o financeira com acompanhamento de investimentos, an√°lise de mercado e controle or√ßament√°rio." />
    <meta name="keywords" content="gest√£o financeira, investimentos, or√ßamento, an√°lise mercado" />
    <meta name="author" content="Organizesee" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Organizesee" />
    <meta property="og:description" content="Plataforma completa de gest√£o financeira" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://organizesee.com.br" />
    
    <!-- REMOVIDO: Content Security Policy que estava causando problemas com scripts do Vercel -->
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Critical CSS ser√° injetado pelo Vite -->
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/client/main.tsx"></script>
  </body>
</html>